(()=>{var e={};e.id=981,e.ids=[981],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},7116:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>a.a,__next_app__:()=>p,originalPathname:()=>l,pages:()=>c,routeModule:()=>h,tree:()=>d}),r(290),r(219),r(1532),r(2029),r(1930),r(5866);var s=r(3191),i=r(8716),o=r(7922),a=r.n(o),n=r(5231),u={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(u[e]=()=>n[e]);r.d(t,u);let d=["",{children:["jobs",{children:["add-category",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,290)),"E:\\Projects Repository\\task_manager\\src\\app\\jobs\\add-category\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,219)),"E:\\Projects Repository\\task_manager\\src\\app\\jobs\\add-category\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(r.bind(r,1532)),"E:\\Projects Repository\\task_manager\\src\\app\\jobs\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,2029)),"E:\\Projects Repository\\task_manager\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(r.bind(r,1930)),"E:\\Projects Repository\\task_manager\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\Projects Repository\\task_manager\\src\\app\\jobs\\add-category\\page.tsx"],l="/jobs/add-category/page",p={require:r,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/jobs/add-category/page",pathname:"/jobs/add-category",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},4767:(e,t,r)=>{Promise.resolve().then(r.bind(r,2048))},2048:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>p});var s=r(326),i=r(1191),o=r(4660),a=r(5715),n=r(5342),u=r(2853),d=r(1774),c=r(7577),l=r(4723);let p=()=>{let[e,t]=(0,c.useState)([]),[r,p]=(0,c.useState)([]),[h,m]=(0,c.useState)(!1),[x,g]=(0,c.useState)(""),[b,q]=(0,c.useState)(!1),[y,v]=(0,c.useState)(""),[j,f]=(0,c.useState)({open:!1,message:"",severity:"success"}),{data:_}=(0,n.Z)({queryKey:["education_experience"],url:"http://ec2-35-173-139-149.compute-1.amazonaws.com/job-categories/unique/education-experience",setSnackbarConfig:f}),{register:E,handleSubmit:k,formState:{errors:w},reset:N,setValue:C}=(0,l.cI)({resolver:(0,d.X)(u.Y),defaultValues:{id:"",name:"",description:"",required_education:"",required_experience:"",required_skills:[]}});(0,c.useEffect)(()=>{_&&(t(_.requiredEducation||[]),p(_.requiredExperience||[]))},[_]),(0,c.useEffect)(()=>{N()},[N]);let{mutate:R,isPending:Z,isSuccess:P,isError:S,error:M}=(0,a.s)({endpoint:"/job-categories",onSuccessMessage:"Job Category added successfully!",invalidateQueryKeys:["jobCategories"]}),O=async e=>{console.log("Form data before submission:",e),R(e)};return(0,c.useEffect)(()=>{P?(N({name:"",description:"",required_education:"",required_experience:"",required_skills:[]}),f({open:!0,message:"Job Category created successfully!",severity:"success"})):S&&console.error("Failed to create/update the job category",M)},[M,S,P,N]),(0,s.jsxs)(o.Z,{children:[(0,s.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg col-span-12 w-full relative",children:[s.jsx("h1",{className:"text-center text-2xl font-bold mb-6",children:"Create Job Category"}),(0,s.jsxs)("form",{className:"space-y-4",onSubmit:k(O),children:[(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Category Name"}),s.jsx("input",{type:"text",...E("name"),className:`w-full px-4 py-2 mt-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent border ${w.name?"border-high":"border-border"}`,placeholder:"Enter category name"}),w.name&&s.jsx("p",{className:"text-high mt-1 text-sm",children:w.name.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Description"}),s.jsx("textarea",{...E("description"),className:`w-full px-4 py-2 mt-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent border ${w.description?"border-high":"border-border"}`,placeholder:"Enter category description",rows:4}),w.description&&s.jsx("p",{className:"text-high mt-1 text-sm",children:w.description.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Required Education"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsxs)("select",{...E("required_education"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${w.required_education?"border-high":"border-border"}`,children:[s.jsx("option",{value:"",children:"Select Required Education"}),e.map((e,t)=>s.jsx("option",{value:e,children:e},t))]}),s.jsx("div",{onClick:()=>m(!0),className:"mt-1 border-gray-500 border-dashed border-2 text-center rounded-md w-[45px] h-[40px] content-center text-lg font-bold cursor-pointer",children:"+"})]}),h&&(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[s.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border",placeholder:"Enter new education",value:x,onChange:e=>g(e.target.value)}),s.jsx("button",{type:"button",onClick:()=>{""!==x.trim()&&(t(e=>[...e,x]),C("required_education",x),m(!1),g(""))},className:"bg-blue-500 text-white rounded-md px-4 py-2",children:"Add"})]}),w.required_education&&s.jsx("p",{className:"text-high mt-1 text-sm",children:w.required_education.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Required Experience"}),(0,s.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,s.jsxs)("select",{...E("required_experience"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${w.required_experience?"border-high":"border-border"}`,children:[s.jsx("option",{value:"",children:"Select Required Experience"}),r.map((e,t)=>s.jsx("option",{value:e,children:e},t))]}),s.jsx("div",{onClick:()=>q(!0),className:"mt-1 border-gray-500 border-dashed border-2 text-center rounded-md w-[45px] h-[40px] content-center text-lg font-bold cursor-pointer",children:"+"})]}),b&&(0,s.jsxs)("div",{className:"mt-2 flex gap-2",children:[s.jsx("input",{type:"text",className:"w-full px-4 py-2 rounded-lg border",placeholder:"Enter new experience",value:y,onChange:e=>v(e.target.value)}),s.jsx("button",{type:"button",onClick:()=>{""!==y.trim()&&(p(e=>[...e,y]),C("required_experience",y),q(!1),v(""))},className:"bg-blue-500 text-white rounded-md px-4 py-2",children:"Add"})]}),w.required_experience&&s.jsx("p",{className:"text-high mt-1 text-sm",children:w.required_experience.message})]}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-sm font-medium",children:"Required Skills"}),s.jsx("textarea",{className:`w-full px-4 py-2 mt-1 rounded-lg focus:outline-none focus:ring-2 focus:ring-accent border ${w.required_skills?"border-high":"border-border"}`,placeholder:"Enter required skills (comma-separated)",rows:3,onChange:e=>{C("required_skills",e.target.value.split(",").map(e=>e.trim()))}}),w.required_skills&&s.jsx("p",{className:"text-high mt-1 text-sm",children:w.required_skills.message})]}),s.jsx("button",{type:"submit",className:`w-full py-2 mt-4 bg-[#413d99] text-white rounded-lg font-bold hover:bg-opacity-90 transition duration-200 ${Z?"opacity-50 cursor-not-allowed":""}`,disabled:Z,children:Z?"Creating...":"Create Job Category"}),S&&s.jsx("p",{className:"text-high mt-2 text-center",children:M+""})]})]}),s.jsx(i.Z,{open:j.open,message:j.message,severity:j.severity,onClose:()=>f(e=>({...e,open:!1}))})]})}},1191:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(326);r(7577);var i=r(2375),o=r(708);let a=({open:e,message:t,severity:r,onClose:a})=>{let n=(e,t)=>{"clickaway"!==t&&a()};return s.jsx(i.Z,{open:e,autoHideDuration:2e3,onClose:n,children:s.jsx(o.Z,{onClose:n,severity:r,variant:"filled",sx:{width:"100%"},children:t})})}},5715:(e,t,r)=>{"use strict";r.d(t,{s:()=>n});var s=r(4976),i=r(119),o=r(4099),a=r(6562);let n=({endpoint:e,onSuccessMessage:t,invalidateQueryKeys:r=[],options:n})=>{let u=(0,s.NL)(),d=async t=>(await o.Z.post(`http://ec2-35-173-139-149.compute-1.amazonaws.com${e}`,t,{headers:{Authorization:`Bearer ${a.Z.get("access_token")}`}})).data;return(0,i.D)({mutationFn:d,onSuccess:e=>{t&&console.log(t,e),r.forEach(e=>{u.invalidateQueries(e)})},onError:e=>{console.error("Error during the create/add request:",e)},...n})}},5342:(e,t,r)=>{"use strict";r.d(t,{Z:()=>a});var s=r(4412),i=r(4099),o=r(6562);let a=({queryKey:e,url:t,setSnackbarConfig:r,nestedData:a=!1,...n})=>(0,s.a)({queryKey:e,queryFn:async()=>{try{let e=await i.Z.get(t,{headers:{Authorization:`Bearer ${o.Z.get("access_token")}`}});return a?e.data.data:e.data}catch(e){throw i.Z.isAxiosError(e)&&e.response?r({open:!0,message:`Error: ${e.response.data.message||"An error occurred"}`,severity:"error"}):r({open:!0,message:"Network error. Please try again later.",severity:"error"}),e}},retry:2,...n})},2853:(e,t,r)=>{"use strict";r.d(t,{Y:()=>i,h:()=>o});var s=r(123);let i=s.Ry().shape({name:s.Z_().required("Category name is required"),description:s.Z_().required("Description is required"),required_education:s.Z_().required("Required education is required"),required_experience:s.Z_().required("Required experience is required"),required_skills:s.IX(s.Z_().required("Skill is required")).min(1,"At least one skill is required")}),o=s.Ry().shape({name:s.Z_().required("Job title name is required"),title:s.Z_().required("Title is required"),grade_level:s.Z_().required("Grade level is required"),description:s.Z_().required("Description is required"),responsibilities:s.IX(s.Z_().required("Responsibilities are required")).required(),permissions:s.IX(s.Z_().required("Each permission must be a string")).required("Permissions are required"),department_id:s.Z_().required("Department ID is required"),category:s.Z_().required("Job Category is required"),is_manager:s.O7().notRequired(),accessibleDepartments:s.IX(s.Z_()).nullable(),accessibleEmps:s.IX(s.Z_()).nullable(),accessibleJobTitles:s.IX(s.Z_()).nullable()})},219:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(9510),i=r(7366);r(1159);let o=()=>s.jsx("div",{children:s.jsx(i.Z,{})})},290:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>s});let s=(0,r(8570).createProxy)(String.raw`E:\Projects Repository\task_manager\src\app\jobs\add-category\page.tsx#default`)},1532:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>o});var s=r(9510),i=r(7366);r(1159);let o=()=>s.jsx("div",{children:s.jsx(i.Z,{})})},119:(e,t,r)=>{"use strict";r.d(t,{D:()=>l});var s=r(7577),i=r(1180),o=r(2113),a=r(4351),n=r(3341),u=class extends a.l{#e;#t=void 0;#r;#s;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#i()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,n.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,n.Ym)(t.mutationKey)!==(0,n.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#i(),this.#o(e)}getCurrentResult(){return this.#t}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#i(),this.#o()}mutate(e,t){return this.#s=t,this.#r?.removeObserver(this),this.#r=this.#e.getMutationCache().build(this.#e,this.options),this.#r.addObserver(this),this.#r.execute(e)}#i(){let e=this.#r?.state??(0,i.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#o(e){o.V.batch(()=>{if(this.#s&&this.hasListeners()){let t=this.#t.variables,r=this.#t.context;e?.type==="success"?(this.#s.onSuccess?.(e.data,t,r),this.#s.onSettled?.(e.data,null,t,r)):e?.type==="error"&&(this.#s.onError?.(e.error,t,r),this.#s.onSettled?.(void 0,e.error,t,r))}this.listeners.forEach(e=>{e(this.#t)})})}},d=r(4976),c=r(8613);function l(e,t){let r=(0,d.NL)(t),[i]=s.useState(()=>new u(r,e));s.useEffect(()=>{i.setOptions(e)},[i,e]);let a=s.useSyncExternalStore(s.useCallback(e=>i.subscribe(o.V.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),n=s.useCallback((e,t)=>{i.mutate(e,t).catch(c.Z)},[i]);if(a.error&&(0,c.L)(i.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:n,mutateAsync:a.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[309,644,899,412,260],()=>r(7116));module.exports=s})();