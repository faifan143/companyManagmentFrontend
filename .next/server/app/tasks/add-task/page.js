(()=>{var e={};e.id=431,e.ids=[431],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},6224:e=>{"use strict";e.exports=require("tty")},7310:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},4310:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>u,pages:()=>c,routeModule:()=>m,tree:()=>o}),s(1628),s(9792),s(2533),s(2029),s(1930),s(5866);var r=s(3191),a=s(8716),i=s(7922),n=s.n(i),d=s(5231),l={};for(let e in d)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>d[e]);s.d(t,l);let o=["",{children:["tasks",{children:["add-task",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,1628)),"E:\\Projects Repository\\task_manager\\src\\app\\tasks\\add-task\\page.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,9792)),"E:\\Projects Repository\\task_manager\\src\\app\\tasks\\add-task\\loading.tsx"]}]},{loading:[()=>Promise.resolve().then(s.bind(s,2533)),"E:\\Projects Repository\\task_manager\\src\\app\\tasks\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(s.bind(s,2029)),"E:\\Projects Repository\\task_manager\\src\\app\\layout.tsx"],loading:[()=>Promise.resolve().then(s.bind(s,1930)),"E:\\Projects Repository\\task_manager\\src\\app\\loading.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,5866,23)),"next/dist/client/components/not-found-error"]}],c=["E:\\Projects Repository\\task_manager\\src\\app\\tasks\\add-task\\page.tsx"],u="/tasks/add-task/page",p={require:s,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/tasks/add-task/page",pathname:"/tasks/add-task",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},839:(e,t,s)=>{Promise.resolve().then(s.bind(s,2838))},2838:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>h});var r=s(326),a=s(2485),i=s(3908),n=s(1191),d=s(4660),l=s(5715),o=s(5342),c=s(1416),u=s(1774),p=s(7577),m=s(4723);let x="ec2-35-173-139-149.compute-1.amazonaws.com",h=()=>{let{register:e,handleSubmit:t,formState:{errors:s},reset:h,watch:y}=(0,m.cI)({resolver:(0,u.X)(c.T$),defaultValues:{}}),[b,g]=(0,p.useState)(null);(0,p.useEffect)(()=>{h()},[h]);let[f,j]=(0,p.useState)({open:!1,message:"",severity:"success"}),k=y("emp"),v=y("department_id"),{mutate:N,isPending:_,isSuccess:q,isError:w,error:E}=(0,l.s)({endpoint:k?"/tasks/create":"/tasks/create-task-department",onSuccessMessage:"Task added successfully!",invalidateQueryKeys:["tasks"]}),T=y("isRecurring"),S=async e=>{console.log("data are  :",e),g(null),N({...e,due_date:new Date(e.due_date).toISOString()})};(0,p.useEffect)(()=>{q?(j({open:!0,message:"Task created successfully!",severity:"success"}),h()):w&&(console.error("Error creating/updating task:",E),j({open:!0,message:E+""||"Failed to process the request. Please try again.",severity:"error"}))},[E,w,q,h]);let{data:Z}=(0,o.Z)({queryKey:["taskTypes"],url:`http://${x}/task-type/find-all`,setSnackbarConfig:j,nestedData:!0}),{data:R}=(0,o.Z)({queryKey:["taskStatuses"],url:`http://${x}/task-status/find-all`,setSnackbarConfig:j,nestedData:!0}),{data:P}=(0,o.Z)({queryKey:["departments"],url:`http://${x}/department/get-departments`,setSnackbarConfig:j}),{data:C}=(0,o.Z)({queryKey:["employees"],url:`http://${x}/emp/get-all-emps`,setSnackbarConfig:j}),[$,D]=(0,p.useState)(!1),[O,M]=(0,p.useState)(!1);(0,p.useEffect)(()=>{k?M(!0):M(!1),v?D(!0):D(!1)},[k,v]);let[I,A]=(0,p.useState)(!1),[K,U]=(0,p.useState)(!1);return(0,r.jsxs)(d.Z,{children:[(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg  w-full relative col-span-full",children:[r.jsx("h1",{className:"text-center text-2xl font-bold mb-6",children:"Create Task"}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:t(S),children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Task Name"}),r.jsx("input",{type:"text",...e("name"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter task name"}),s.name&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.name.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Description"}),r.jsx("textarea",{...e("description"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter task description"}),s.description&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.description.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Task Type"}),(0,r.jsxs)("div",{className:"flex gap-[8px]",children:[(0,r.jsxs)("select",{...e("task_type"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.task_type?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select a task type"}),Z&&Z.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("div",{onClick:()=>U(!0),className:"border-gray-500 border-dashed border-2 text-center rounded-md w-[45px] h-[40px] mt-1 content-center text-lg font-bold cursor-pointer",children:["+"," "]})]}),s.task_type&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.task_type.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Priority"}),r.jsx("input",{type:"number",...e("priority"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.priority?"border-red-500":"border-gray-300"}`,placeholder:"Enter priority"}),s.priority&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.priority.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Task Status"}),(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsxs)("select",{...e("status"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.status?"border-red-500":"border-gray-300"}`,children:[r.jsx("option",{value:"",children:"Select task status"}),R&&R.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),(0,r.jsxs)("div",{onClick:()=>A(!0),className:"mt-1 border-gray-500 border-dashed border-2 text-center rounded-md w-[45px] h-[40px] content-center text-lg font-bold cursor-pointer",children:["+"," "]})]}),s.status&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.status.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Due Date"}),r.jsx("input",{type:"date",...e("due_date"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.due_date?"border-red-500":"border-gray-300"}`}),s.due_date&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.due_date.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Department"}),(0,r.jsxs)("select",{...e("department_id"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.department_id?"border-red-500":"border-gray-300"}`,disabled:O,children:[r.jsx("option",{value:"",children:"Select a department (optional)"}),P&&P.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),s.department_id&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.department_id.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Assigned Employee"}),(0,r.jsxs)("select",{...e("emp"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.emp?"border-red-500":"border-gray-300"}`,disabled:$,children:[r.jsx("option",{value:"",children:"Select an employee (optional)"}),C&&C.map(e=>r.jsx("option",{value:e.id,children:e.name},e.id))]}),s.emp&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.emp.message})]}),(0,r.jsxs)("div",{children:[r.jsx("input",{type:"checkbox",...e("isRecurring"),className:" cursor-pointer",id:"check-id"}),r.jsx("label",{htmlFor:"check-id",className:"ml-4 text-gray-600 text-sm font-medium cursor-pointer",children:"Is Recurring Task?"})]}),T&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Recurring Task Interval (Days)"}),r.jsx("input",{type:"number",...e("intervalInDays"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.intervalInDays?"border-red-500":"border-gray-300"}`,placeholder:"Enter interval in days"}),s.intervalInDays&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.intervalInDays.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Recurring Task End Date"}),r.jsx("input",{type:"date",...e("end_date"),className:`w-full px-4 py-2 mt-1 rounded-lg border ${s.end_date?"border-red-500":"border-gray-300"}`}),s.end_date&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:s.end_date.message})]})]}),r.jsx("button",{type:"submit",className:`w-full py-2 mt-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition duration-200 ${_?"opacity-50 cursor-not-allowed":""}`,disabled:_,children:_?"Creating...":"Create Task"}),b&&r.jsx("p",{className:`mt-2 text-center ${b.includes("successfully")?"text-green-500":"text-red-500"}`,children:b})]})]}),r.jsx(a.Z,{isOpen:I,onClose:()=>A(!1)}),r.jsx(i.Z,{isOpen:K,onClose:()=>U(!1)}),r.jsx(n.Z,{open:f.open,message:f.message,severity:f.severity,onClose:()=>j(e=>({...e,open:!1}))})]})}},2485:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(326),a=s(5715),i=s(1416),n=s(1774),d=s(7577),l=s(4723),o=s(4173),c=s.n(o);let u=({isOpen:e,onClose:t,taskStatusData:s})=>{let{register:o,handleSubmit:u,formState:{errors:p},reset:m}=(0,l.cI)({resolver:(0,n.X)(i.lj),defaultValues:s||{}});(0,d.useEffect)(()=>{s?m(s):m()},[s,m]);let x=s?`/task-status/update/${s.id}`:"/task-status/create",{mutate:h,isPending:y,isSuccess:b,isError:g,error:f}=(0,a.s)({endpoint:x,onSuccessMessage:"Task Status added successfully!",invalidateQueryKeys:["taskStatuses"]}),j=async e=>{h({name:e.name,description:e.description})};return(0,d.useEffect)(()=>{b?m({id:"",name:"",description:""}):g&&console.error("Failed to create/update the task status",f)},[f,g,b,m]),r.jsx(c(),{isOpen:e,onRequestClose:t,ariaHideApp:!1,contentLabel:"Create/Update Task Status",className:"fixed inset-0 flex items-center justify-center",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full relative",children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-700 hover:text-red-500",children:"\xd7"}),r.jsx("h1",{className:"text-center text-2xl font-bold mb-6",children:s?"Update Task Status":"Create Task Status"}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:u(j),children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Task Status Name"}),r.jsx("input",{type:"text",...o("name"),className:`w-full px-4 py-2 mt-1 rounded-lg border focus:outline-none ${p.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter task status name"}),p.name&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:p.name.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Description"}),r.jsx("textarea",{...o("description"),className:`w-full px-4 py-2 mt-1 rounded-lg border focus:outline-none ${p.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter description",rows:3}),p.description&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:p.description.message})]}),r.jsx("button",{type:"submit",className:`w-full py-2 mt-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition duration-200 ${y?"opacity-50 cursor-not-allowed":""}`,disabled:y,children:y?s?"Updating...":"Creating...":s?"Update Task Status":"Create Task Status"}),g&&r.jsx("p",{className:"text-red-500 mt-2 text-center",children:f+""}),b&&r.jsx("p",{className:"text-green-500 mt-2 text-center",children:"Added Successfully"})]})]})})}},3908:(e,t,s)=>{"use strict";s.d(t,{Z:()=>u});var r=s(326),a=s(5715),i=s(1416),n=s(1774),d=s(7577),l=s(4723),o=s(4173),c=s.n(o);let u=({isOpen:e,onClose:t,taskTypeData:s})=>{let{register:o,handleSubmit:u,formState:{errors:p},reset:m}=(0,l.cI)({resolver:(0,n.X)(i._v),defaultValues:s||{}});(0,d.useEffect)(()=>{s?m(s):m()},[s,m]);let x=s?`/task-type/update/${s.id}`:"/task-type/create",{mutate:h,isPending:y,isSuccess:b,isError:g,error:f}=(0,a.s)({endpoint:x,onSuccessMessage:"Task Type added successfully!",invalidateQueryKeys:["taskTypes"]}),j=async e=>{h({name:e.name,description:e.description}),console.log(x)};return(0,d.useEffect)(()=>{b?m({id:"",name:"",description:""}):g&&console.error("Failed to create/update the task type",f)},[f,g,b,m]),r.jsx(c(),{isOpen:e,onRequestClose:t,ariaHideApp:!1,contentLabel:"Create/Update Task Type",className:"fixed inset-0 flex items-center justify-center",overlayClassName:"fixed inset-0 bg-black bg-opacity-50 z-50",children:(0,r.jsxs)("div",{className:"bg-white p-8 rounded-xl shadow-lg max-w-md w-full relative",children:[r.jsx("button",{onClick:t,className:"absolute top-2 right-2 text-gray-700 hover:text-red-500",children:"\xd7"}),r.jsx("h1",{className:"text-center text-2xl font-bold mb-6",children:s?"Update Task Type":"Create Task Type"}),(0,r.jsxs)("form",{className:"space-y-4",onSubmit:u(j),children:[(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Task Type Name"}),r.jsx("input",{type:"text",...o("name"),className:`w-full px-4 py-2 mt-1 rounded-lg border focus:outline-none ${p.name?"border-red-500":"border-gray-300"}`,placeholder:"Enter task type name"}),p.name&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:p.name.message})]}),(0,r.jsxs)("div",{children:[r.jsx("label",{className:"block text-gray-600 text-sm font-medium",children:"Description"}),r.jsx("textarea",{...o("description"),className:`w-full px-4 py-2 mt-1 rounded-lg border focus:outline-none ${p.description?"border-red-500":"border-gray-300"}`,placeholder:"Enter description",rows:3}),p.description&&r.jsx("p",{className:"text-red-500 mt-1 text-sm",children:p.description.message})]}),r.jsx("button",{type:"submit",className:`w-full py-2 mt-4 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 transition duration-200 ${y?"opacity-50 cursor-not-allowed":""}`,disabled:y,children:y?s?"Updating...":"Creating...":s?"Update Task Type":"Create Task Type"}),g&&r.jsx("p",{className:"text-red-500 mt-2 text-center",children:f+""}),b&&r.jsx("p",{className:"text-green-500 mt-2 text-center",children:"Added Successfully"})]})]})})}},1191:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(326);s(7577);var a=s(2375),i=s(708);let n=({open:e,message:t,severity:s,onClose:n})=>{let d=(e,t)=>{"clickaway"!==t&&n()};return r.jsx(a.Z,{open:e,autoHideDuration:2e3,onClose:d,children:r.jsx(i.Z,{onClose:d,severity:s,variant:"filled",sx:{width:"100%"},children:t})})}},5715:(e,t,s)=>{"use strict";s.d(t,{s:()=>d});var r=s(4976),a=s(119),i=s(4099),n=s(6562);let d=({endpoint:e,onSuccessMessage:t,invalidateQueryKeys:s=[],options:d})=>{let l=(0,r.NL)(),o=async t=>(await i.Z.post(`http://ec2-35-173-139-149.compute-1.amazonaws.com${e}`,t,{headers:{Authorization:`Bearer ${n.Z.get("access_token")}`}})).data;return(0,a.D)({mutationFn:o,onSuccess:e=>{t&&console.log(t,e),s.forEach(e=>{l.invalidateQueries(e)})},onError:e=>{console.error("Error during the create/add request:",e)},...d})}},5342:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(4412),a=s(4099),i=s(6562);let n=({queryKey:e,url:t,setSnackbarConfig:s,nestedData:n=!1,...d})=>(0,r.a)({queryKey:e,queryFn:async()=>{try{let e=await a.Z.get(t,{headers:{Authorization:`Bearer ${i.Z.get("access_token")}`}});return n?e.data.data:e.data}catch(e){throw a.Z.isAxiosError(e)&&e.response?s({open:!0,message:`Error: ${e.response.data.message||"An error occurred"}`,severity:"error"}):s({open:!0,message:"Network error. Please try again later.",severity:"error"}),e}},retry:2,...d})},1416:(e,t,s)=>{"use strict";s.d(t,{KV:()=>i,T$:()=>a,_v:()=>d,lj:()=>n});var r=s(123);let a=r.Ry().shape({name:r.Z_().required("Task name is required"),description:r.Z_().required("Description is required"),task_type:r.Z_().required("Task type is required"),priority:r.Rx().required("Priority is required").typeError("Priority must be a number"),emp:r.Z_().nullable(),department_id:r.Z_().nullable(),status:r.Z_().required("Task status is required"),due_date:r.hT().required("Due date is required").typeError("Invalid date format"),files:r.IX().of(r.Z_()),isRecurring:r.O7(),intervalInDays:r.Rx().when("isRecurring",{is:!0,then:e=>e.required("Interval in days is required").min(1,"Interval must be at least 1 day"),otherwise:e=>e.nullable()}),end_date:r.hT().when("isRecurring",{is:!0,then:e=>e.required("End date is required").typeError("Invalid date format"),otherwise:e=>e.nullable()})}),i=r.Ry().shape({name:r.Z_().required("Task name is required"),description:r.Z_().required("Description is required"),task_type:r.Z_().required("Task type is required"),priority:r.Rx().required("Priority is required").typeError("Priority must be a number"),emp:r.Z_().nullable(),department_id:r.Z_().nullable(),status:r.Z_().required("Task status is required"),due_date:r.hT().required("Due date is required").typeError("Invalid date format"),files:r.IX().of(r.Z_())}),n=r.Ry().shape({name:r.Z_().required("Task status name is required"),description:r.Z_().required("Description is required")}),d=r.Ry().shape({name:r.Z_().required("Task type name is required"),description:r.Z_().required("Description is required")})},9792:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(9510),a=s(7366);s(1159);let i=()=>r.jsx("div",{children:r.jsx(a.Z,{})})},1628:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>r});let r=(0,s(8570).createProxy)(String.raw`E:\Projects Repository\task_manager\src\app\tasks\add-task\page.tsx#default`)},2533:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>i});var r=s(9510),a=s(7366);s(1159);let i=()=>r.jsx("div",{children:r.jsx(a.Z,{})})},119:(e,t,s)=>{"use strict";s.d(t,{D:()=>u});var r=s(7577),a=s(1180),i=s(2113),n=s(4351),d=s(3341),l=class extends n.l{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,d.VS)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,d.Ym)(t.mutationKey)!==(0,d.Ym)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,a.R)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){i.V.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},o=s(4976),c=s(8613);function u(e,t){let s=(0,o.NL)(t),[a]=r.useState(()=>new l(s,e));r.useEffect(()=>{a.setOptions(e)},[a,e]);let n=r.useSyncExternalStore(r.useCallback(e=>a.subscribe(i.V.batchCalls(e)),[a]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),d=r.useCallback((e,t)=>{a.mutate(e,t).catch(c.Z)},[a]);if(n.error&&(0,c.L)(a.options.throwOnError,[n.error]))throw n.error;return{...n,mutate:d,mutateAsync:n.mutate}}}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[309,644,899,412,260],()=>s(4310));module.exports=r})();